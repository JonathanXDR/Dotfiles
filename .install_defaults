#! /usr/bin/env bash

# Installs system and application default settings.

printf "%s\n" "Menu Bar - Show only Bluetooth and Airport."
for domain in $HOME/Library/Preferences/ByHost/com.apple.systemuiserver.*; do
  defaults write "${domain}" dontAutoLoad -array "/System/Library/CoreServices/Menu Extras/TimeMachine.menu"
done

defaults write com.apple.systemuiserver menuExtras -array \
  "/System/Library/CoreServices/Menu Extras/Bluetooth.menu" \
  "/System/Library/CoreServices/Menu Extras/AirPort.menu"

printf "%s\n" "iCloud - Save to disk by default."
defaults write NSGlobalDomain NSDocumentSaveNewDocumentsToCloud -bool false

printf "%s\n" "iOS Simulator - Symlink the iOS Simulator application."
sudo ln -sf "/Applications/Xcode.app/Contents/Applications/iPhone Simulator.app" "/Applications/iOS Simulator.app"

printf "%s\n" "Printer - Expand print panel by default."
defaults write NSGlobalDomain PMPrintingExpandedStateForPrint -bool true

printf "%s\n" "Printer - Automatically quit printer app once the print jobs complete."
defaults write com.apple.print.PrintingPrefs "Quit When Finished" -bool true

printf "%s\n" "Game Center - Disable Game Center."
defaults write com.apple.gamed Disabled -bool true

printf "CCMenu - Add open source projects\n"
defaults write net.sourceforge.cruisecontrol.CCMenu Projects '
(
  {
    projectName = "bkuhlmann/archiver";
    serverUrl = "https://circleci.com/gh/bkuhlmann/archiver.cc.xml";
  },
  {
    projectName = "bkuhlmann/auther";
    serverUrl = "https://circleci.com/gh/bkuhlmann/auther.cc.xml";
  },
  {
    projectName = "bkuhlmann/bashsmith";
    serverUrl = "https://circleci.com/gh/bkuhlmann/bashsmith.cc.xml";
  },
  {
    projectName = "bkuhlmann/benchmarks";
    serverUrl = "https://circleci.com/gh/bkuhlmann/benchmarks.cc.xml";
  },
  {
    projectName = "bkuhlmann/caliber";
    serverUrl = "https://circleci.com/gh/bkuhlmann/caliber.cc.xml";
  },
  {
    projectName = "bkuhlmann/cogger";
    serverUrl = "https://circleci.com/gh/bkuhlmann/cogger.cc.xml";
  },
  {
    projectName = "bkuhlmann/core";
    serverUrl = "https://circleci.com/gh/bkuhlmann/core.cc.xml";
  },
  {
    projectName = "bkuhlmann/docker-alpine-base";
    serverUrl = "https://circleci.com/gh/bkuhlmann/docker-alpine-base.cc.xml";
  },
  {
    projectName = "bkuhlmann/docker-alpine-ruby";
    serverUrl = "https://circleci.com/gh/bkuhlmann/docker-alpine-ruby.cc.xml";
  },
  {
    projectName = "bkuhlmann/dotfiles";
    serverUrl = "https://circleci.com/gh/bkuhlmann/dotfiles.cc.xml";
  },
  {
    projectName = "bkuhlmann/etcher";
    serverUrl = "https://circleci.com/gh/bkuhlmann/etcher.cc.xml";
  },
  {
    projectName = "bkuhlmann/form-validator";
    serverUrl = "https://circleci.com/gh/bkuhlmann/form-validator.cc.xml";
  },
  {
    projectName = "bkuhlmann/gemsmith";
    serverUrl = "https://circleci.com/gh/bkuhlmann/gemsmith.cc.xml";
  },
  {
    projectName = "bkuhlmann/ghub";
    serverUrl = "https://circleci.com/gh/bkuhlmann/ghub.cc.xml";
  },
  {
    projectName = "bkuhlmann/git-lint";
    serverUrl = "https://circleci.com/gh/bkuhlmann/git-lint.cc.xml";
  },
  {
    projectName = "bkuhlmann/gitt";
    serverUrl = "https://circleci.com/gh/bkuhlmann/gitt.cc.xml";
  },
  {
    projectName = "bkuhlmann/hanamismith";
    serverUrl = "https://circleci.com/gh/bkuhlmann/hanamismith.cc.xml";
  },
  {
    projectName = "bkuhlmann/htmx";
    serverUrl = "https://circleci.com/gh/bkuhlmann/htmx.cc.xml";
  },
  {
    projectName = "bkuhlmann/hemo";
    serverUrl = "https://circleci.com/gh/bkuhlmann/hemo.cc.xml";
  },
  {
    projectName = "bkuhlmann/http-fake";
    serverUrl = "https://circleci.com/gh/bkuhlmann/http-fake.cc.xml";
  },
  {
    projectName = "bkuhlmann/infusible";
    serverUrl = "https://circleci.com/gh/bkuhlmann/infusible.cc.xml";
  },
  {
    projectName = "bkuhlmann/mac_os";
    serverUrl = "https://circleci.com/gh/bkuhlmann/mac_os.cc.xml";
  },
  {
    projectName = "bkuhlmann/mac_os-config";
    serverUrl = "https://circleci.com/gh/bkuhlmann/mac_os-config.cc.xml";
  },
  {
    projectName = "bkuhlmann/marameters";
    serverUrl = "https://circleci.com/gh/bkuhlmann/marameters.cc.xml";
  },
  {
    projectName = "bkuhlmann/milestoner";
    serverUrl = "https://circleci.com/gh/bkuhlmann/milestoner.cc.xml";
  },
  {
    projectName = "bkuhlmann/navigator";
    serverUrl = "https://circleci.com/gh/bkuhlmann/navigator.cc.xml";
  },
  {
    projectName = "bkuhlmann/pennyworth";
    serverUrl = "https://circleci.com/gh/bkuhlmann/pennyworth.cc.xml";
  },
  {
    projectName = "bkuhlmann/pkce";
    serverUrl = "https://circleci.com/gh/bkuhlmann/pkce.cc.xml";
  },
  {
    projectName = "bkuhlmann/pragmater";
    serverUrl = "https://circleci.com/gh/bkuhlmann/pragmater.cc.xml";
  },
  {
    projectName = "bkuhlmann/prawn_plus";
    serverUrl = "https://circleci.com/gh/bkuhlmann/prawn_plus.cc.xml";
  },
  {
    projectName = "bkuhlmann/refinements";
    serverUrl = "https://circleci.com/gh/bkuhlmann/refinements.cc.xml";
  },
  {
    projectName = "bkuhlmann/rubysmith";
    serverUrl = "https://circleci.com/gh/bkuhlmann/rubysmith.cc.xml";
  },
  {
    projectName = "bkuhlmann/runcom";
    serverUrl = "https://circleci.com/gh/bkuhlmann/runcom.cc.xml";
  },
  {
    projectName = "bkuhlmann/sod";
    serverUrl = "https://circleci.com/gh/bkuhlmann/sod.cc.xml";
  },
  {
    projectName = "bkuhlmann/spek";
    serverUrl = "https://circleci.com/gh/bkuhlmann/spek.cc.xml";
  },
  {
    projectName = "bkuhlmann/sublime_text_kit";
    serverUrl = "https://circleci.com/gh/bkuhlmann/sublime_text_kit.cc.xml";
  },
  {
    projectName = "bkuhlmann/sublime_text_setup";
    serverUrl = "https://circleci.com/gh/bkuhlmann/sublime_text_setup.cc.xml";
  },
  {
    projectName = "bkuhlmann/tocer";
    serverUrl = "https://circleci.com/gh/bkuhlmann/tocer.cc.xml";
  },
  {
    projectName = "bkuhlmann/tone";
    serverUrl = "https://circleci.com/gh/bkuhlmann/tone.cc.xml";
  },
  {
    projectName = "bkuhlmann/transactable";
    serverUrl = "https://circleci.com/gh/bkuhlmann/transactable.cc.xml";
  },
  {
    projectName = "bkuhlmann/versionaire";
    serverUrl = "https://circleci.com/gh/bkuhlmann/versionaire.cc.xml";
  },
  {
    projectName = "bkuhlmann/wholable";
    serverUrl = "https://circleci.com/gh/bkuhlmann/wholable.cc.xml";
  },
  {
    projectName = "bkuhlmann/xdg";
    serverUrl = "https://circleci.com/gh/bkuhlmann/xdg.cc.xml";
  }
)'
